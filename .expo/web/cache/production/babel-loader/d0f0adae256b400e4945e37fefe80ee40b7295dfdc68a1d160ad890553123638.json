{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import Button from\"react-native-paper/lib/module/components/Button/Button\";import TextInput from\"react-native-paper/lib/module/components/TextInput/TextInput\";import{useTheme}from\"react-native-paper/lib/module/core/theming\";import{getBooksStyleSheet}from\"../../styles\";import BookAPI from\"../../API/Book\";import{SwatchesPicker}from\"react-color\";import{useNavigation,useRoute}from\"@react-navigation/native\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewBookView(props){var window=useWindowDimensions();var theme=useTheme();var styles=getBooksStyleSheet(window,theme);var navigation=useNavigation();var route=useRoute();function createNewBookHandler(){return _createNewBookHandler.apply(this,arguments);}function _createNewBookHandler(){_createNewBookHandler=_asyncToGenerator(function*(){var api=new BookAPI(props.token);var book={name:props.name,background:props.bookColor.toString(),color:props.textColor.toString()};var data=yield api.create(book);if(data.msg){api.getAll().then(function(data){props.setBooks(data);});alert(\"Livro adicionado com sucesso!\");props.setName(\"\");props.setBookColor(\"#322f37\");props.setTextColor(\"#FFFFFF\");props.setVisible(false);return;}alert(data.error.msg);});return _createNewBookHandler.apply(this,arguments);}return _jsxs(View,{style:_objectSpread({backgroundColor:props.bookColor.toString()},styles.newBook),children:[_jsx(View,{style:{width:\"100%\",justifyContent:\"center\",alignItems:\"flex-end\"},children:_jsx(Button,{mode:\"text\",onPress:function onPress(){return props.setVisible(false);},icon:\"close\",children:\"Close\"})}),_jsx(TextInput,{label:\"Nome do livro\",mode:\"flat\",style:styles.input,value:props.name,onChangeText:props.setName}),_jsxs(View,{style:styles.colorSelect,children:[_jsxs(View,{style:styles.colorSelect,children:[_jsxs(Text,{style:{fontSize:16,color:props.textColor.toString(),marginRight:20},children:[\"Cor do livro:\",\" \"]}),_jsx(SwatchesPicker,{color:props.bookColor,onChangeComplete:function onChangeComplete(color){return props.setBookColor(color.hex);},height:80})]}),_jsxs(View,{style:styles.colorSelect,children:[_jsxs(Text,{style:{fontSize:16,color:props.textColor.toString(),marginRight:20,marginLeft:10},children:[\"Cor do texto:\",\" \"]}),_jsx(SwatchesPicker,{color:props.textColor,onChangeComplete:function onChangeComplete(color){return props.setTextColor(color.hex);},height:80})]})]}),_jsx(Button,{mode:\"contained\",style:styles.button,dark:true,onPress:createNewBookHandler,children:\"Enviar\"})]});}","map":{"version":3,"names":["getBooksStyleSheet","BookAPI","SwatchesPicker","useNavigation","useRoute","jsx","_jsx","jsxs","_jsxs","NewBookView","props","window","useWindowDimensions","theme","useTheme","styles","navigation","route","createNewBookHandler","_createNewBookHandler","apply","arguments","_asyncToGenerator","api","token","book","name","background","bookColor","toString","color","textColor","data","create","msg","getAll","then","setBooks","alert","setName","setBookColor","setTextColor","setVisible","error","View","style","_objectSpread","backgroundColor","newBook","children","width","justifyContent","alignItems","Button","mode","onPress","icon","TextInput","label","input","value","onChangeText","colorSelect","Text","fontSize","marginRight","onChangeComplete","hex","height","marginLeft","button","dark"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/frontend/components/Book/NewBookView.tsx"],"sourcesContent":["import { View, Text, ScaledSize, useWindowDimensions } from \"react-native\";\nimport { Button, MD3Theme, TextInput, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport BookAPI, { Book } from \"../../API/Book\";\nimport { Color, SwatchesPicker } from \"react-color\";\nimport {\n  NavigationProp,\n  RouteProp,\n  useNavigation,\n  useRoute,\n} from \"@react-navigation/native\";\nimport DrawerList from \"../Drawer/DrawerList\";\n\ntype props = {\n  name: string;\n  setName: Dispatch<SetStateAction<string>>;\n  bookColor: Color;\n  setBookColor: Dispatch<SetStateAction<Color>>;\n  textColor: Color;\n  setTextColor: Dispatch<SetStateAction<Color>>;\n  token: string;\n  setBooks: Dispatch<SetStateAction<Book[]>>;\n  setVisible: Dispatch<SetStateAction<boolean>>;\n};\n\nexport default function NewBookView(props: props): JSX.Element | null {\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n  const styles = getBooksStyleSheet(window, theme);\n\n  const navigation = useNavigation<NavigationProp<DrawerList>>();\n  const route = useRoute<RouteProp<DrawerList>>();\n\n  async function createNewBookHandler() {\n    const api = new BookAPI(props.token);\n    const book: Book = {\n      name: props.name,\n      background: props.bookColor.toString(),\n      color: props.textColor.toString(),\n    };\n    const data = await api.create(book);\n    if (data.msg) {\n      api.getAll().then((data) => {\n        props.setBooks(data);\n      });\n      alert(\"Livro adicionado com sucesso!\");\n      props.setName(\"\");\n      props.setBookColor(\"#322f37\");\n      props.setTextColor(\"#FFFFFF\");\n      props.setVisible(false);\n      return;\n    }\n\n    alert(data.error.msg);\n  }\n\n  return (\n    <View\n      style={{\n        backgroundColor: props.bookColor.toString(),\n        ...styles.newBook,\n      }}\n    >\n      <View\n        style={{\n          width: \"100%\",\n          justifyContent: \"center\",\n          alignItems: \"flex-end\",\n        }}\n      >\n        <Button\n          mode=\"text\"\n          onPress={() => props.setVisible(false)}\n          icon=\"close\"\n        >\n          Close\n        </Button>\n      </View>\n      <TextInput\n        label=\"Nome do livro\"\n        mode=\"flat\"\n        style={styles.input}\n        value={props.name}\n        onChangeText={props.setName}\n      />\n      <View style={styles.colorSelect}>\n        <View style={styles.colorSelect}>\n          <Text\n            style={{\n              fontSize: 16,\n              color: props.textColor.toString(),\n              marginRight: 20,\n            }}\n          >\n            Cor do livro:{\" \"}\n          </Text>\n          <SwatchesPicker\n            color={props.bookColor}\n            onChangeComplete={(color) => props.setBookColor(color.hex)}\n            height={80}\n          />\n        </View>\n        <View style={styles.colorSelect}>\n          <Text\n            style={{\n              fontSize: 16,\n              color: props.textColor.toString(),\n              marginRight: 20,\n              marginLeft: 10,\n            }}\n          >\n            Cor do texto:{\" \"}\n          </Text>\n          <SwatchesPicker\n            color={props.textColor}\n            onChangeComplete={(color) => props.setTextColor(color.hex)}\n            height={80}\n          />\n        </View>\n      </View>\n      <Button\n        mode=\"contained\"\n        style={styles.button}\n        dark={true}\n        onPress={createNewBookHandler}\n      >\n        Enviar\n      </Button>\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}