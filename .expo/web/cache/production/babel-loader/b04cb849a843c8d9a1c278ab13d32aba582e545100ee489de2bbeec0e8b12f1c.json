{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import Pressable from\"react-native-web/dist/exports/Pressable\";import Text from\"react-native-web/dist/exports/Text\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import{useTheme}from\"react-native-paper/lib/module/core/theming\";import{getBooksStyleSheet}from\"../../styles\";import{useEffect,useState}from\"react\";import{useRoute}from\"@react-navigation/native\";import BookAPI from\"../../API/Book\";import BookPressable from\"../Book/BookPressable\";import NewBookView from\"../Book/NewBookView\";import{ScrollView}from\"react-native-gesture-handler\";import BookSearchBar from\"../Book/BookSearchBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Books(){var window=useWindowDimensions();var theme=useTheme();var styles=getBooksStyleSheet(window,theme);var route=useRoute();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setVisible=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchData=_useState6[0],setSearchData=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(\"#322f37\"),_useState10=_slicedToArray(_useState9,2),bookColor=_useState10[0],setBookColor=_useState10[1];var _useState11=useState(\"#FFFFFF\"),_useState12=_slicedToArray(_useState11,2),textColor=_useState12[0],setTextColor=_useState12[1];useEffect(function(){var token=route.params.token;var api=new BookAPI(token);api.getAll().then(function(data){setSearchData(data);setBooks(data);});},[visible]);return _jsxs(ScrollView,{style:{maxHeight:\"100%\",height:\"100%\"},contentContainerStyle:styles.books,children:[_jsx(BookSearchBar,{data:searchData,setBooks:setBooks}),_jsx(Pressable,{style:styles.addBook,onPress:function onPress(){return setVisible(true);},children:_jsx(Text,{style:{fontSize:50},children:\"+\"})}),visible?_jsx(NewBookView,{bookColor:bookColor,name:name,setBookColor:setBookColor,setName:setName,setTextColor:setTextColor,textColor:textColor,token:route.params.token,setBooks:setBooks,setVisible:setVisible}):null,books.map(function(book,index){return _jsx(BookPressable,{book:book,window:window,token:route.params.token,books:books,setBooks:setBooks,setData:setSearchData},index);})]},\"Books\");}","map":{"version":3,"names":["getBooksStyleSheet","useEffect","useState","useRoute","BookAPI","BookPressable","NewBookView","ScrollView","BookSearchBar","jsx","_jsx","jsxs","_jsxs","Books","window","useWindowDimensions","theme","useTheme","styles","route","_useState","_useState2","_slicedToArray","books","setBooks","_useState3","_useState4","visible","setVisible","_useState5","_useState6","searchData","setSearchData","_useState7","_useState8","name","setName","_useState9","_useState10","bookColor","setBookColor","_useState11","_useState12","textColor","setTextColor","token","params","api","getAll","then","data","style","maxHeight","height","contentContainerStyle","children","Pressable","addBook","onPress","Text","fontSize","map","book","index","setData"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/frontend/components/Screen/Books.tsx"],"sourcesContent":["import { Pressable, Text, ScaledSize, useWindowDimensions } from \"react-native\";\nimport { MD3Theme, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport { RouteProp, useRoute } from \"@react-navigation/native\";\nimport BookAPI, { Book } from \"../../API/Book\";\nimport DrawerList from \"../Drawer/DrawerList\";\nimport BookPressable from \"../Book/BookPressable\";\nimport NewBookView from \"../Book/NewBookView\";\nimport { Color } from \"react-color\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport BookSearchBar from \"../Book/BookSearchBar\";\n\nexport default function Books() {\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n\n  const styles = getBooksStyleSheet(window, theme);\n  const route = useRoute<RouteProp<DrawerList>>();\n\n  const [books, setBooks] = useState<Book[]>([]);\n  const [visible, setVisible] = useState<boolean>(false);\n  const [searchData, setSearchData] = useState<Book[]>([]);\n\n  const [name, setName] = useState(\"\");\n  const [bookColor, setBookColor] = useState<Color>(\"#322f37\");\n  const [textColor, setTextColor] = useState<Color>(\"#FFFFFF\");\n\n  useEffect(() => {\n    const { token } = route.params;\n    const api = new BookAPI(token);\n    api.getAll().then((data) => {\n      setSearchData(data);\n      setBooks(data);\n    });\n  }, [visible]);\n\n  return (\n    <ScrollView\n      style={{ maxHeight: \"100%\", height: \"100%\" }}\n      contentContainerStyle={styles.books}\n      key=\"Books\"\n    >\n      <BookSearchBar data={searchData} setBooks={setBooks} />\n      <Pressable style={styles.addBook} onPress={() => setVisible(true)}>\n        <Text style={{ fontSize: 50 }}>+</Text>\n      </Pressable>\n      {visible ? (\n        <NewBookView\n          bookColor={bookColor}\n          name={name}\n          setBookColor={setBookColor}\n          setName={setName}\n          setTextColor={setTextColor}\n          textColor={textColor}\n          token={route.params.token}\n          setBooks={setBooks}\n          setVisible={setVisible}\n        />\n      ) : null}\n      {books.map((book: Book, index: number) => (\n        <BookPressable\n          book={book}\n          window={window}\n          key={index}\n          token={route.params.token}\n          books={books}\n          setBooks={setBooks}\n          setData={setSearchData}\n        />\n      ))}\n    </ScrollView>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}