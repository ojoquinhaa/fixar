{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useRoute } from \"@react-navigation/native\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { useTheme } from \"react-native-paper\";\nimport { getFantasticStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport DataTableComponent from \"../Fantastic/DataTableComponent\";\nimport NewFantastic from \"../Fantastic/NewFantastic\";\nimport FantasticAPI from \"../../API/Fantastic\";\nimport FuncView from \"../Fantastic/FuncView\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Fantastics() {\n  var route = useRoute();\n  var window = useWindowDimensions();\n  var theme = useTheme();\n  var styles = getFantasticStyleSheet(window, theme);\n  var _route$params = route.params,\n    book = _route$params.book,\n    token = _route$params.token;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fantastics = _useState4[0],\n    setFantastics = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    data = _useState6[0],\n    setData = _useState6[1];\n  useEffect(function () {\n    if (book.id !== undefined) {\n      var api = new FantasticAPI(token, book.id);\n      api.getByBook().then(function (data) {\n        setData(data);\n        setFantastics(data);\n      });\n    }\n  }, [route.params.book, visible]);\n  console.log(route.params.updated);\n  return _jsxs(View, {\n    style: styles.fantastic,\n    children: [_jsx(View, {\n      style: _objectSpread({\n        backgroundColor: book.background\n      }, styles.book),\n      children: _jsx(Text, {\n        style: {\n          fontSize: 25,\n          color: book.color\n        },\n        children: book.name\n      })\n    }), _jsx(FuncView, {\n      setFantastics: setFantastics,\n      theme: theme,\n      window: window,\n      add: true,\n      setVisible: setVisible,\n      data: data\n    }), visible ? _jsx(NewFantastic, {\n      setVisible: setVisible,\n      book: book,\n      setFantastics: setFantastics,\n      token: route.params.token\n    }) : _jsx(DataTableComponent, {\n      fantastics: fantastics\n    })]\n  });\n}","map":{"version":3,"names":["useRoute","View","Text","useWindowDimensions","useTheme","getFantasticStyleSheet","useEffect","useState","DataTableComponent","NewFantastic","FantasticAPI","FuncView","jsx","_jsx","jsxs","_jsxs","Fantastics","route","window","theme","styles","_route$params","params","book","token","_useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","fantastics","setFantastics","_useState5","_useState6","data","setData","id","undefined","api","getByBook","then","console","log","updated","style","fantastic","children","_objectSpread","backgroundColor","background","fontSize","color","name","add"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/frontend/components/Screen/Fantastics.tsx"],"sourcesContent":["import { RouteProp, useRoute } from \"@react-navigation/native\";\nimport { View, Text, useWindowDimensions, ScaledSize } from \"react-native\";\nimport DrawerList from \"../Drawer/DrawerList\";\nimport { MD3Theme, useTheme } from \"react-native-paper\";\nimport { getFantasticStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport DataTableComponent from \"../Fantastic/DataTableComponent\";\nimport NewFantastic from \"../Fantastic/NewFantastic\";\nimport FantasticAPI, { Fantastic } from \"../../API/Fantastic\";\nimport FuncView from \"../Fantastic/FuncView\";\nexport default function Fantastics() {\n  const route = useRoute<RouteProp<DrawerList>>();\n\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n  const styles = getFantasticStyleSheet(window, theme);\n\n  const { book, token } = route.params;\n\n  const [visible, setVisible] = useState<boolean>(false);\n  const [fantastics, setFantastics] = useState<Fantastic[]>([]);\n  const [data, setData] = useState<Fantastic[]>([]);\n\n  useEffect(() => {\n    if (book.id !== undefined) {\n      const api = new FantasticAPI(token, book.id);\n      api.getByBook().then((data) => {\n        setData(data);\n        setFantastics(data);\n      });\n    }\n  }, [route.params.book, visible]);\n\n  console.log(route.params.updated);\n\n  return (\n    <View style={styles.fantastic}>\n      <View style={{ backgroundColor: book.background, ...styles.book }}>\n        <Text style={{ fontSize: 25, color: book.color }}>{book.name}</Text>\n      </View>\n      <FuncView\n        setFantastics={setFantastics}\n        theme={theme}\n        window={window}\n        add={true}\n        setVisible={setVisible}\n        data={data}\n      />\n      {visible ? (\n        <NewFantastic\n          setVisible={setVisible}\n          book={book}\n          setFantastics={setFantastics}\n          token={route.params.token}\n        />\n      ) : (\n        <DataTableComponent fantastics={fantastics} />\n      )}\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}