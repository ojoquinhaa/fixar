{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { Button, TextInput, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport BookAPI from \"../../API/Book\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function NewBookView(props) {\n  var window = useWindowDimensions();\n  var theme = useTheme();\n  var styles = getBooksStyleSheet(window, theme);\n  function createNewBookHandler() {\n    return _createNewBookHandler.apply(this, arguments);\n  }\n  function _createNewBookHandler() {\n    _createNewBookHandler = _asyncToGenerator(function* () {\n      var api = new BookAPI(props.token);\n      var book = {\n        name: props.name,\n        background: props.bookColor.toString(),\n        color: props.textColor.toString()\n      };\n      var data = yield api.create(book);\n      if (data.id) {\n        api.getAll().then(function (data) {\n          props.setBooks(data);\n        });\n        alert(\"Livro adicionado com sucesso!\");\n        props.setName(\"\");\n        props.setBookColor(\"#322f37\");\n        props.setTextColor(\"#FFFFFF\");\n        props.setVisible(false);\n        return;\n      }\n      if (data.response.data[\"name\"]) {\n        alert(\"O nome do livro est치 inv치lido.\");\n        return;\n      }\n      alert(\"Falha ao criar o seu livro.\");\n    });\n    return _createNewBookHandler.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: _objectSpread({\n      backgroundColor: props.bookColor.toString()\n    }, styles.newBook),\n    children: [_jsx(View, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"flex-end\"\n      },\n      children: _jsx(Button, {\n        mode: \"text\",\n        onPress: function onPress() {\n          return props.setVisible(false);\n        },\n        icon: \"close\",\n        children: \"Close\"\n      })\n    }), _jsx(TextInput, {\n      label: \"Nome do livro\",\n      mode: \"flat\",\n      style: styles.input,\n      value: props.name,\n      onChangeText: props.setName\n    }), _jsxs(View, {\n      style: styles.colorSelect,\n      children: [_jsx(View, {\n        style: styles.colorSelect,\n        children: _jsxs(Text, {\n          style: {\n            fontSize: 16,\n            color: props.textColor.toString(),\n            marginRight: 20\n          },\n          children: [\"Cor do livro:\", \" \"]\n        })\n      }), _jsx(View, {\n        style: styles.colorSelect,\n        children: _jsxs(Text, {\n          style: {\n            fontSize: 16,\n            color: props.textColor.toString(),\n            marginRight: 20,\n            marginLeft: 10\n          },\n          children: [\"Cor do texto:\", \" \"]\n        })\n      })]\n    }), _jsx(Button, {\n      mode: \"contained\",\n      style: styles.button,\n      dark: true,\n      onPress: createNewBookHandler,\n      children: \"Enviar\"\n    })]\n  });\n}","map":{"version":3,"names":["Button","TextInput","useTheme","getBooksStyleSheet","BookAPI","jsx","_jsx","jsxs","_jsxs","NewBookView","props","window","useWindowDimensions","theme","styles","createNewBookHandler","_createNewBookHandler","apply","arguments","_asyncToGenerator","api","token","book","name","background","bookColor","toString","color","textColor","data","create","id","getAll","then","setBooks","alert","setName","setBookColor","setTextColor","setVisible","response","View","style","_objectSpread","backgroundColor","newBook","children","width","justifyContent","alignItems","mode","onPress","icon","label","input","value","onChangeText","colorSelect","Text","fontSize","marginRight","marginLeft","button","dark"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/fixar/components/Book/NewBookView.tsx"],"sourcesContent":["import { View, Text, ScaledSize, useWindowDimensions } from \"react-native\";\nimport { Button, MD3Theme, TextInput, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport BookAPI, { Book } from \"../../API/Book\";\n\ntype props = {\n  name: string;\n  setName: Dispatch<SetStateAction<string>>;\n  bookColor: string;\n  setBookColor: Dispatch<SetStateAction<string>>;\n  textColor: string;\n  setTextColor: Dispatch<SetStateAction<string>>;\n  token: string;\n  setBooks: Dispatch<SetStateAction<Book[]>>;\n  setVisible: Dispatch<SetStateAction<boolean>>;\n};\n\nexport default function NewBookView(props: props): JSX.Element | null {\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n  const styles = getBooksStyleSheet(window, theme);\n\n  async function createNewBookHandler() {\n    const api = new BookAPI(props.token);\n    const book: Book = {\n      name: props.name,\n      background: props.bookColor.toString(),\n      color: props.textColor.toString(),\n    };\n    const data = await api.create(book);\n    if (data.id) {\n      api.getAll().then((data) => {\n        props.setBooks(data);\n      });\n      alert(\"Livro adicionado com sucesso!\");\n      props.setName(\"\");\n      props.setBookColor(\"#322f37\");\n      props.setTextColor(\"#FFFFFF\");\n      props.setVisible(false);\n      return;\n    }\n    if (data.response.data[\"name\"]) {\n      alert(\"O nome do livro est치 inv치lido.\");\n      return;\n    }\n    alert(\"Falha ao criar o seu livro.\");\n  }\n\n  return (\n    <View\n      style={{\n        backgroundColor: props.bookColor.toString(),\n        ...styles.newBook,\n      }}\n    >\n      <View\n        style={{\n          width: \"100%\",\n          justifyContent: \"center\",\n          alignItems: \"flex-end\",\n        }}\n      >\n        <Button\n          mode=\"text\"\n          onPress={() => props.setVisible(false)}\n          icon=\"close\"\n        >\n          Close\n        </Button>\n      </View>\n      <TextInput\n        label=\"Nome do livro\"\n        mode=\"flat\"\n        style={styles.input}\n        value={props.name}\n        onChangeText={props.setName}\n      />\n      <View style={styles.colorSelect}>\n        <View style={styles.colorSelect}>\n          <Text\n            style={{\n              fontSize: 16,\n              color: props.textColor.toString(),\n              marginRight: 20,\n            }}\n          >\n            Cor do livro:{\" \"}\n          </Text>\n        </View>\n        <View style={styles.colorSelect}>\n          <Text\n            style={{\n              fontSize: 16,\n              color: props.textColor.toString(),\n              marginRight: 20,\n              marginLeft: 10,\n            }}\n          >\n            Cor do texto:{\" \"}\n          </Text>\n        </View>\n      </View>\n      <Button\n        mode=\"contained\"\n        style={styles.button}\n        dark={true}\n        onPress={createNewBookHandler}\n      >\n        Enviar\n      </Button>\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}