{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useRoute } from \"@react-navigation/native\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { useTheme, Button } from \"react-native-paper\";\nimport { getFantasticStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport DataTableComponent from \"../Fantastic/DataTableComponent\";\nimport NewFantastic from \"../Fantastic/NewFantastic\";\nimport FantasticAPI from \"../../API/Fantastic\";\nimport FantasticSearchBar from \"../Fantastic/FantasticSearchBar\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Fantastics() {\n  var route = useRoute();\n  var window = useWindowDimensions();\n  var theme = useTheme();\n  var styles = getFantasticStyleSheet(window, theme);\n  var _route$params = route.params,\n    book = _route$params.book,\n    token = _route$params.token;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fantastics = _useState4[0],\n    setFantastics = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    data = _useState6[0],\n    setData = _useState6[1];\n  useEffect(function () {\n    if (book.id !== undefined) {\n      var api = new FantasticAPI(token, book.id);\n      api.getByBook().then(function (data) {\n        console.log(data);\n        setData(data);\n        setFantastics(data);\n      });\n    }\n  }, [route.params.book, visible]);\n  return _jsxs(View, {\n    style: styles.fantastic,\n    children: [_jsx(View, {\n      style: _objectSpread({\n        backgroundColor: book.background\n      }, styles.book),\n      children: _jsx(Text, {\n        style: {\n          fontSize: 25,\n          color: book.color,\n          marginTop: 80\n        },\n        children: book.name\n      })\n    }), _jsxs(View, {\n      style: {\n        width: window.width * 0.3 + 100,\n        marginBottom: 20\n      },\n      children: [_jsx(Button, {\n        mode: \"outlined\",\n        style: styles.newButton,\n        onPress: function onPress() {\n          return setVisible(true);\n        },\n        children: _jsx(Text, {\n          style: {\n            color: theme.colors.background,\n            fontSize: 20\n          },\n          children: \"+\"\n        })\n      }), _jsx(FantasticSearchBar, {\n        setFantastics: setFantastics,\n        data: data\n      })]\n    }), visible ? _jsx(NewFantastic, {\n      setVisible: setVisible,\n      book: book,\n      setFantastics: setFantastics,\n      token: route.params.token\n    }) : _jsx(DataTableComponent, {\n      fantastics: fantastics,\n      setData: setData,\n      setFantastics: setFantastics,\n      token: token\n    })]\n  });\n}","map":{"version":3,"names":["useRoute","View","Text","useWindowDimensions","useTheme","Button","getFantasticStyleSheet","useEffect","useState","DataTableComponent","NewFantastic","FantasticAPI","FantasticSearchBar","jsx","_jsx","jsxs","_jsxs","Fantastics","route","window","theme","styles","_route$params","params","book","token","_useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","fantastics","setFantastics","_useState5","_useState6","data","setData","id","undefined","api","getByBook","then","console","log","style","fantastic","children","_objectSpread","backgroundColor","background","fontSize","color","marginTop","name","width","marginBottom","mode","newButton","onPress","colors"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/fixar/components/Screen/Fantastics.tsx"],"sourcesContent":["import { RouteProp, useRoute } from \"@react-navigation/native\";\nimport { View, Text, useWindowDimensions, ScaledSize } from \"react-native\";\nimport DrawerList from \"../Drawer/DrawerList\";\nimport { MD3Theme, useTheme, Button } from \"react-native-paper\";\nimport { getFantasticStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport DataTableComponent from \"../Fantastic/DataTableComponent\";\nimport NewFantastic from \"../Fantastic/NewFantastic\";\nimport FantasticAPI, { Fantastic } from \"../../API/Fantastic\";\nimport FantasticSearchBar from \"../Fantastic/FantasticSearchBar\";\n\nexport default function Fantastics() {\n  const route = useRoute<RouteProp<DrawerList>>();\n\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n  const styles = getFantasticStyleSheet(window, theme);\n\n  const { book, token } = route.params;\n\n  const [visible, setVisible] = useState<boolean>(false);\n  const [fantastics, setFantastics] = useState<Fantastic[]>([]);\n  const [data, setData] = useState<Fantastic[]>([]);\n\n  useEffect(() => {\n    if (book.id !== undefined) {\n      const api = new FantasticAPI(token, book.id);\n      api.getByBook().then((data) => {\n        console.log(data);\n        setData(data);\n        setFantastics(data);\n      });\n    }\n  }, [route.params.book, visible]);\n\n  return (\n    <View style={styles.fantastic}>\n      <View style={{ backgroundColor: book.background, ...styles.book }}>\n        <Text style={{ fontSize: 25, color: book.color, marginTop: 80 }}>\n          {book.name}\n        </Text>\n      </View>\n      <View style={{ width: window.width * 0.3 + 100, marginBottom: 20 }}>\n        <Button\n          mode=\"outlined\"\n          style={styles.newButton}\n          onPress={() => setVisible!(true)}\n        >\n          <Text style={{ color: theme.colors.background, fontSize: 20 }}>\n            +\n          </Text>\n        </Button>\n        <FantasticSearchBar setFantastics={setFantastics} data={data} />\n      </View>\n      {visible ? (\n        <NewFantastic\n          setVisible={setVisible}\n          book={book}\n          setFantastics={setFantastics}\n          token={route.params.token}\n        />\n      ) : (\n        <DataTableComponent\n          fantastics={fantastics}\n          setData={setData}\n          setFantastics={setFantastics}\n          token={token}\n        />\n      )}\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}