{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport { useRoute } from \"@react-navigation/native\";\nimport BookAPI from \"../../API/Book\";\nimport BookPressable from \"../Book/BookPressable\";\nimport NewBookView from \"../Book/NewBookView\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport BookSearchBar from \"../Book/BookSearchBar\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Books() {\n  var window = useWindowDimensions();\n  var theme = useTheme();\n  var styles = getBooksStyleSheet(window, theme);\n  var route = useRoute();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    books = _useState2[0],\n    setBooks = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    visible = _useState4[0],\n    setVisible = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchData = _useState6[0],\n    setSearchData = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    name = _useState8[0],\n    setName = _useState8[1];\n  var _useState9 = useState(\"#322f37\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    bookColor = _useState10[0],\n    setBookColor = _useState10[1];\n  var _useState11 = useState(\"#FFFFFF\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    textColor = _useState12[0],\n    setTextColor = _useState12[1];\n  useEffect(function () {\n    var token = route.params.token;\n    var api = new BookAPI(token);\n    api.getAll().then(function (data) {\n      setSearchData(data);\n      setBooks(data);\n    });\n  }, [visible]);\n  console.log(route.params.updated);\n  return _jsxs(ScrollView, {\n    style: {\n      maxHeight: \"100%\",\n      height: \"100%\"\n    },\n    contentContainerStyle: styles.books,\n    children: [_jsx(BookSearchBar, {\n      data: searchData,\n      setBooks: setBooks\n    }), _jsx(Pressable, {\n      style: styles.addBook,\n      onPress: function onPress() {\n        return setVisible(true);\n      },\n      children: _jsx(Text, {\n        style: {\n          fontSize: 50\n        },\n        children: \"+\"\n      })\n    }), visible ? _jsx(NewBookView, {\n      bookColor: bookColor,\n      name: name,\n      setBookColor: setBookColor,\n      setName: setName,\n      setTextColor: setTextColor,\n      textColor: textColor,\n      token: route.params.token,\n      setBooks: setBooks,\n      setVisible: setVisible\n    }) : null, books.map(function (book, index) {\n      return _jsx(BookPressable, {\n        book: book,\n        window: window,\n        token: route.params.token,\n        books: books,\n        setBooks: setBooks,\n        setData: setSearchData\n      }, index);\n    })]\n  }, \"Books\");\n}","map":{"version":3,"names":["useTheme","getBooksStyleSheet","useEffect","useState","useRoute","BookAPI","BookPressable","NewBookView","ScrollView","BookSearchBar","jsx","_jsx","jsxs","_jsxs","Books","window","useWindowDimensions","theme","styles","route","_useState","_useState2","_slicedToArray","books","setBooks","_useState3","_useState4","visible","setVisible","_useState5","_useState6","searchData","setSearchData","_useState7","_useState8","name","setName","_useState9","_useState10","bookColor","setBookColor","_useState11","_useState12","textColor","setTextColor","token","params","api","getAll","then","data","console","log","updated","style","maxHeight","height","contentContainerStyle","children","Pressable","addBook","onPress","Text","fontSize","map","book","index","setData"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/frontend/components/Screen/Books.tsx"],"sourcesContent":["import {\n  Pressable,\n  View,\n  Text,\n  ScaledSize,\n  useWindowDimensions,\n} from \"react-native\";\nimport { MD3Theme, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport { useEffect, useState } from \"react\";\nimport { RouteProp, useRoute } from \"@react-navigation/native\";\nimport BookAPI, { Book } from \"../../API/Book\";\nimport DrawerList from \"../Drawer/DrawerList\";\nimport BookPressable from \"../Book/BookPressable\";\nimport NewBookView from \"../Book/NewBookView\";\nimport { Color } from \"react-color\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport BookSearchBar from \"../Book/BookSearchBar\";\n\nexport default function Books() {\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n\n  const styles = getBooksStyleSheet(window, theme);\n  const route = useRoute<RouteProp<DrawerList>>();\n\n  const [books, setBooks] = useState<Book[]>([]);\n  const [visible, setVisible] = useState<boolean>(false);\n  const [searchData, setSearchData] = useState<Book[]>([]);\n\n  const [name, setName] = useState(\"\");\n  const [bookColor, setBookColor] = useState<Color>(\"#322f37\");\n  const [textColor, setTextColor] = useState<Color>(\"#FFFFFF\");\n\n  useEffect(() => {\n    const { token } = route.params;\n    const api = new BookAPI(token);\n    api.getAll().then((data) => {\n      setSearchData(data);\n      setBooks(data);\n    });\n  }, [visible]);\n\n  console.log(route.params.updated);\n\n  return (\n    <ScrollView\n      style={{ maxHeight: \"100%\", height: \"100%\" }}\n      contentContainerStyle={styles.books}\n      key=\"Books\"\n    >\n      <BookSearchBar data={searchData} setBooks={setBooks} />\n      <Pressable style={styles.addBook} onPress={() => setVisible(true)}>\n        <Text style={{ fontSize: 50 }}>+</Text>\n      </Pressable>\n      {visible ? (\n        <NewBookView\n          bookColor={bookColor}\n          name={name}\n          setBookColor={setBookColor}\n          setName={setName}\n          setTextColor={setTextColor}\n          textColor={textColor}\n          token={route.params.token}\n          setBooks={setBooks}\n          setVisible={setVisible}\n        />\n      ) : null}\n      {books.map((book: Book, index: number) => (\n        <BookPressable\n          book={book}\n          window={window}\n          key={index}\n          token={route.params.token}\n          books={books}\n          setBooks={setBooks}\n          setData={setSearchData}\n        />\n      ))}\n    </ScrollView>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}