{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from \"axios\";\nvar BookAPI = function () {\n  function BookAPI(token) {\n    var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"https://metodofixar.com.br\";\n    _classCallCheck(this, BookAPI);\n    this.url = url;\n    this.token = token;\n  }\n  _createClass(BookAPI, [{\n    key: \"getAll\",\n    value: function () {\n      var _getAll = _asyncToGenerator(function* () {\n        try {\n          var request = yield axios({\n            method: \"GET\",\n            url: this.url + \"/api/books/\",\n            headers: {\n              Authorization: \"Bearer \" + this.token,\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              \"Cache-Control\": \"no-cache\"\n            }\n          });\n          return request.data;\n        } catch (e) {\n          return e;\n        }\n      });\n      function getAll() {\n        return _getAll.apply(this, arguments);\n      }\n      return getAll;\n    }()\n  }, {\n    key: \"create\",\n    value: function () {\n      var _create = _asyncToGenerator(function* (book) {\n        console.log(book);\n        try {\n          var request = yield axios({\n            method: \"POST\",\n            url: this.url + \"/api/books/\",\n            headers: {\n              Authorization: \"Bearer \" + this.token,\n              Accept: \"application/json\",\n              \"Cache-Control\": \"no-cache\"\n            },\n            data: JSON.stringify(book)\n          });\n          return request.data;\n        } catch (e) {\n          return e;\n        }\n      });\n      function create(_x) {\n        return _create.apply(this, arguments);\n      }\n      return create;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator(function* (id) {\n        try {\n          var request = yield axios({\n            method: \"DELETE\",\n            url: this.url + \"/api/books/\" + id + \"/\",\n            headers: {\n              Authorization: \"Bearer \" + this.token,\n              Accept: \"application/json\",\n              \"Cache-Control\": \"no-cache\"\n            }\n          });\n          return request.status;\n        } catch (e) {\n          return e;\n        }\n      });\n      function _delete(_x2) {\n        return _delete2.apply(this, arguments);\n      }\n      return _delete;\n    }()\n  }]);\n  return BookAPI;\n}();\nexport { BookAPI as default };","map":{"version":3,"names":["axios","BookAPI","token","url","arguments","length","undefined","_classCallCheck","_createClass","key","value","_getAll","_asyncToGenerator","request","method","headers","Authorization","Accept","data","e","getAll","apply","_create","book","console","log","JSON","stringify","create","_x","_delete2","id","status","_delete","_x2","default"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/fixar/API/Book.ts"],"sourcesContent":["import axios from \"axios\";\n\nexport type Book = {\n  id?: number;\n  name?: string;\n  color?: string;\n  background?: string;\n};\n\nexport default class BookAPI {\n  private token: string;\n  private url: string;\n  constructor(token: string, url: string = \"https://metodofixar.com.br\") {\n    this.url = url;\n    this.token = token;\n  }\n\n  async getAll() {\n    try {\n      const request = await axios({\n        method: \"GET\",\n        url: `${this.url}/api/books/`,\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Cache-Control\": \"no-cache\",\n        },\n      });\n      return request.data;\n    } catch (e) {\n      return e;\n    }\n  }\n\n  async create(book: Book) {\n    console.log(book);\n    try {\n      const request = await axios({\n        method: \"POST\",\n        url: `${this.url}/api/books/`,\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n          Accept: \"application/json\",\n          \"Cache-Control\": \"no-cache\",\n        },\n        data: JSON.stringify(book),\n      });\n      return request.data;\n    } catch (e) {\n      return e as Error;\n    }\n  }\n\n  async delete(id: number) {\n    try {\n      const request = await axios({\n        method: \"DELETE\",\n        url: `${this.url}/api/books/${id}/`,\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n          Accept: \"application/json\",\n          \"Cache-Control\": \"no-cache\",\n        },\n      });\n      return request.status;\n    } catch (e) {\n      return e as Error;\n    }\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,IASLC,OAAO;EAG1B,SAAAA,QAAYC,KAAa,EAA8C;IAAA,IAA5CC,GAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,4BAA4B;IAAAG,eAAA,OAAAN,OAAA;IACnE,IAAI,CAACE,GAAG,GAAGA,GAAG;IACd,IAAI,CAACD,KAAK,GAAGA,KAAK;EACpB;EAACM,YAAA,CAAAP,OAAA;IAAAQ,GAAA;IAAAC,KAAA;MAAA,IAAAC,OAAA,GAAAC,iBAAA,CAED,aAAe;QACb,IAAI;UACF,IAAMC,OAAO,SAASb,KAAK,CAAC;YAC1Bc,MAAM,EAAE,KAAK;YACbX,GAAG,EAAK,IAAI,CAACA,GAAG,gBAAa;YAC7BY,OAAO,EAAE;cACPC,aAAa,cAAY,IAAI,CAACd,KAAO;cACrCe,MAAM,EAAE,kBAAkB;cAC1B,cAAc,EAAE,kBAAkB;cAClC,eAAe,EAAE;YACnB;UACF,CAAC,CAAC;UACF,OAAOJ,OAAO,CAACK,IAAI;QACrB,CAAC,CAAC,OAAOC,CAAC,EAAE;UACV,OAAOA,CAAC;QACV;MACF,CAAC;MAAA,SAAAC,OAAA;QAAA,OAAAT,OAAA,CAAAU,KAAA,OAAAjB,SAAA;MAAA;MAAA,OAAAgB,MAAA;IAAA;EAAA;IAAAX,GAAA;IAAAC,KAAA;MAAA,IAAAY,OAAA,GAAAV,iBAAA,CAED,WAAaW,IAAU,EAAE;QACvBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAI;UACF,IAAMV,OAAO,SAASb,KAAK,CAAC;YAC1Bc,MAAM,EAAE,MAAM;YACdX,GAAG,EAAK,IAAI,CAACA,GAAG,gBAAa;YAC7BY,OAAO,EAAE;cACPC,aAAa,cAAY,IAAI,CAACd,KAAO;cACrCe,MAAM,EAAE,kBAAkB;cAC1B,eAAe,EAAE;YACnB,CAAC;YACDC,IAAI,EAAEQ,IAAI,CAACC,SAAS,CAACJ,IAAI;UAC3B,CAAC,CAAC;UACF,OAAOV,OAAO,CAACK,IAAI;QACrB,CAAC,CAAC,OAAOC,CAAC,EAAE;UACV,OAAOA,CAAC;QACV;MACF,CAAC;MAAA,SAAAS,OAAAC,EAAA;QAAA,OAAAP,OAAA,CAAAD,KAAA,OAAAjB,SAAA;MAAA;MAAA,OAAAwB,MAAA;IAAA;EAAA;IAAAnB,GAAA;IAAAC,KAAA;MAAA,IAAAoB,QAAA,GAAAlB,iBAAA,CAED,WAAamB,EAAU,EAAE;QACvB,IAAI;UACF,IAAMlB,OAAO,SAASb,KAAK,CAAC;YAC1Bc,MAAM,EAAE,QAAQ;YAChBX,GAAG,EAAK,IAAI,CAACA,GAAG,mBAAc4B,EAAE,MAAG;YACnChB,OAAO,EAAE;cACPC,aAAa,cAAY,IAAI,CAACd,KAAO;cACrCe,MAAM,EAAE,kBAAkB;cAC1B,eAAe,EAAE;YACnB;UACF,CAAC,CAAC;UACF,OAAOJ,OAAO,CAACmB,MAAM;QACvB,CAAC,CAAC,OAAOb,CAAC,EAAE;UACV,OAAOA,CAAC;QACV;MACF,CAAC;MAAA,SAAAc,QAAAC,GAAA;QAAA,OAAAJ,QAAA,CAAAT,KAAA,OAAAjB,SAAA;MAAA;MAAA,OAAA6B,OAAA;IAAA;EAAA;EAAA,OAAAhC,OAAA;AAAA;AAAA,SA5DkBA,OAAO,IAAAkC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}