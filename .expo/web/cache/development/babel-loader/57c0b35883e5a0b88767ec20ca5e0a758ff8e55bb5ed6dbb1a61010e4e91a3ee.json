{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { DataTable, useTheme, Text, Menu } from \"react-native-paper\";\nimport FantasticAPI from \"../../API/Fantastic\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport View from \"react-native-web/dist/exports/View\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { getFantasticStyleSheet } from \"../../styles\";\nimport { useState } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function DataTableRow(_ref) {\n  var _getBook, _getBook2, _getBook3;\n  var fantastic = _ref.fantastic,\n    book = _ref.book,\n    token = _ref.token,\n    fantastics = _ref.fantastics,\n    setFantastics = _ref.setFantastics,\n    setData = _ref.setData;\n  var window = useWindowDimensions();\n  var theme = useTheme();\n  var styles = getFantasticStyleSheet(window, theme);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var openMenu = function openMenu() {\n    return setVisible(true);\n  };\n  var closeMenu = function closeMenu() {\n    return setVisible(false);\n  };\n  function getBook() {\n    return book == null ? void 0 : book.filter(function (b) {\n      return b.id === fantastic.book;\n    })[0];\n  }\n  function deleteFantastic() {\n    var api = new FantasticAPI(token);\n    api.delete(fantastic.id).then(function (res) {\n      if (res === 204) {\n        setFantastics(fantastics.filter(function (b) {\n          return b.id !== fantastic.id;\n        }));\n        setData(fantastics.filter(function (b) {\n          return b.id !== fantastic.id;\n        }));\n        alert(\"Fant치stico deletado com sucesso!\");\n        return;\n      }\n      alert(\"Falha ao deletar seu fant치stico.\");\n    });\n  }\n  return _jsx(Menu, {\n    visible: visible,\n    onDismiss: closeMenu,\n    anchor: _jsx(Pressable, {\n      onPress: openMenu,\n      children: _jsxs(DataTable.Row, {\n        style: {\n          maxWidth: \"100%\",\n          width: \"100%\"\n        },\n        children: [book ? _jsx(View, {\n          style: _objectSpread({\n            width: \"100%\",\n            backgroundColor: (_getBook = getBook()) == null ? void 0 : _getBook.background\n          }, styles.data.title.book),\n          children: _jsx(Text, {\n            numberOfLines: 100,\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              flex: 1,\n              textAlign: \"center\",\n              alignItems: \"center\",\n              color: (_getBook2 = getBook()) == null ? void 0 : _getBook2.color\n            },\n            children: (_getBook3 = getBook()) == null ? void 0 : _getBook3.name\n          })\n        }) : null, _jsx(View, {\n          style: {\n            width: \"100%\",\n            backgroundColor: fantastic.color,\n            maxWidth: window.width * (0.75 - (book ? 0.25 : 0))\n          },\n          children: _jsx(Text, {\n            numberOfLines: 100,\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              flex: 1,\n              textAlign: \"center\",\n              alignItems: \"center\",\n              color: \"#000\"\n            },\n            children: fantastic.fantastic\n          })\n        }), _jsx(View, {\n          style: _objectSpread({\n            width: \"100%\"\n          }, styles.data.title.pags),\n          children: _jsx(Text, {\n            numberOfLines: 100,\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              flex: 1,\n              textAlign: \"center\",\n              alignItems: \"center\"\n            },\n            children: fantastic.pag\n          })\n        }), _jsx(View, {\n          style: _objectSpread({\n            width: \"100%\"\n          }, styles.data.title.tags),\n          children: _jsxs(Text, {\n            numberOfLines: 100,\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              flex: 1,\n              textAlign: \"center\",\n              alignItems: \"center\",\n              color: theme.colors.primary\n            },\n            children: [\"#\", fantastic.tag]\n          })\n        }), _jsx(View, {\n          style: _objectSpread({\n            width: \"100%\"\n          }, styles.data.title.util),\n          children: _jsx(Text, {\n            numberOfLines: 100,\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              flex: 1,\n              textAlign: \"center\",\n              alignItems: \"center\"\n            },\n            children: fantastic.util\n          })\n        })]\n      })\n    }),\n    children: _jsx(Menu.Item, {\n      onPress: deleteFantastic,\n      title: \"Deletar\"\n    })\n  });\n}","map":{"version":3,"names":["DataTable","useTheme","Text","Menu","FantasticAPI","Pressable","View","useWindowDimensions","getFantasticStyleSheet","useState","jsx","_jsx","jsxs","_jsxs","DataTableRow","_ref","_getBook","_getBook2","_getBook3","fantastic","book","token","fantastics","setFantastics","setData","window","theme","styles","_useState","_useState2","_slicedToArray","visible","setVisible","openMenu","closeMenu","getBook","filter","b","id","deleteFantastic","api","delete","then","res","alert","onDismiss","anchor","onPress","children","Row","style","maxWidth","width","_objectSpread","backgroundColor","background","data","title","numberOfLines","display","justifyContent","flex","textAlign","alignItems","color","name","pags","pag","tags","colors","primary","tag","util","Item"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/fixar/components/Fantastic/DataTableRow.tsx"],"sourcesContent":["import { DataTable, MD3Theme, useTheme, Text, Menu } from \"react-native-paper\";\nimport FantasticAPI, { Fantastic } from \"../../API/Fantastic\";\nimport { Pressable, ScaledSize, View, useWindowDimensions } from \"react-native\";\nimport { getFantasticStyleSheet } from \"../../styles\";\nimport { Dispatch, SetStateAction, useState } from \"react\";\nimport { Book } from \"../../API/Book\";\ntype props = {\n  fantastic: Fantastic;\n  book?: Book[];\n  token: string;\n  fantastics: Fantastic[];\n  setFantastics: Dispatch<SetStateAction<Fantastic[]>>;\n  setData: Dispatch<SetStateAction<Fantastic[]>>;\n};\nexport default function DataTableRow({\n  fantastic,\n  book,\n  token,\n  fantastics,\n  setFantastics,\n  setData,\n}: props) {\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n  const styles = getFantasticStyleSheet(window, theme);\n\n  const [visible, setVisible] = useState<boolean>(false);\n  const openMenu = () => setVisible(true);\n  const closeMenu = () => setVisible(false);\n\n  function getBook() {\n    return book?.filter((b) => b.id === fantastic.book)[0];\n  }\n\n  function deleteFantastic() {\n    const api = new FantasticAPI(token);\n    api.delete(fantastic.id!).then((res) => {\n      if (res === 204) {\n        setFantastics(fantastics.filter((b) => b.id !== fantastic.id));\n        setData(fantastics.filter((b) => b.id !== fantastic.id));\n        alert(\"Fant치stico deletado com sucesso!\");\n        return;\n      }\n      alert(\"Falha ao deletar seu fant치stico.\");\n    });\n  }\n\n  return (\n    <Menu\n      visible={visible}\n      onDismiss={closeMenu}\n      anchor={\n        <Pressable onPress={openMenu}>\n          <DataTable.Row style={{ maxWidth: \"100%\", width: \"100%\" }}>\n            {book ? (\n              <View\n                style={{\n                  width: \"100%\",\n                  backgroundColor: getBook()?.background,\n                  ...styles.data.title.book,\n                }}\n              >\n                <Text\n                  numberOfLines={100}\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    flex: 1,\n                    textAlign: \"center\",\n                    alignItems: \"center\",\n                    color: getBook()?.color,\n                  }}\n                >\n                  {getBook()?.name}\n                </Text>\n              </View>\n            ) : null}\n            <View\n              style={{\n                width: \"100%\",\n                backgroundColor: fantastic.color,\n                maxWidth: window.width * (0.75 - (book ? 0.25 : 0)),\n              }}\n            >\n              <Text\n                numberOfLines={100}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  flex: 1,\n                  textAlign: \"center\",\n                  alignItems: \"center\",\n                  color: \"#000\",\n                }}\n              >\n                {fantastic.fantastic}\n              </Text>\n            </View>\n            <View\n              style={{\n                width: \"100%\",\n                ...styles.data.title.pags,\n              }}\n            >\n              <Text\n                numberOfLines={100}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  flex: 1,\n                  textAlign: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                {fantastic.pag}\n              </Text>\n            </View>\n            <View\n              style={{\n                width: \"100%\",\n                ...styles.data.title.tags,\n              }}\n            >\n              <Text\n                numberOfLines={100}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  flex: 1,\n                  textAlign: \"center\",\n                  alignItems: \"center\",\n                  color: theme.colors.primary,\n                }}\n              >\n                #{fantastic.tag}\n              </Text>\n            </View>\n            <View\n              style={{\n                width: \"100%\",\n                ...styles.data.title.util,\n              }}\n            >\n              <Text\n                numberOfLines={100}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  flex: 1,\n                  textAlign: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                {fantastic.util}\n              </Text>\n            </View>\n          </DataTable.Row>\n        </Pressable>\n      }\n    >\n      <Menu.Item onPress={deleteFantastic} title=\"Deletar\" />\n    </Menu>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}