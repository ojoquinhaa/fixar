{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { Button, TextInput, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport BookAPI from \"../../API/Book\";\nimport { SwatchesPicker } from \"react-color\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function NewBookView(props) {\n  var window = useWindowDimensions();\n  var theme = useTheme();\n  var styles = getBooksStyleSheet(window, theme);\n  var navigation = useNavigation();\n  var route = useRoute();\n  function createNewBookHandler() {\n    return _createNewBookHandler.apply(this, arguments);\n  }\n  function _createNewBookHandler() {\n    _createNewBookHandler = _asyncToGenerator(function* () {\n      var api = new BookAPI(props.token);\n      var book = {\n        name: props.name,\n        background: props.bookColor.toString(),\n        color: props.textColor.toString()\n      };\n      var data = yield api.create(book);\n      if (data.msg) {\n        var _route$params$updated;\n        api.getAll().then(function (data) {\n          props.setBooks(data);\n        });\n        alert(\"Livro adicionado com sucesso!\");\n        props.setName(\"\");\n        props.setBookColor(\"#322f37\");\n        props.setTextColor(\"#FFFFFF\");\n        props.setVisible(false);\n        navigation.setParams(_objectSpread(_objectSpread({}, route.params), {}, {\n          updated: ((_route$params$updated = route.params.updated) != null ? _route$params$updated : 0) + 1\n        }));\n        return;\n      }\n      alert(data.error.msg);\n    });\n    return _createNewBookHandler.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: _objectSpread({\n      backgroundColor: props.bookColor.toString()\n    }, styles.newBook),\n    children: [_jsx(View, {\n      style: {\n        width: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"flex-end\"\n      },\n      children: _jsx(Button, {\n        mode: \"text\",\n        onPress: function onPress() {\n          return props.setVisible(false);\n        },\n        icon: \"close\",\n        children: \"Close\"\n      })\n    }), _jsx(TextInput, {\n      label: \"Nome do livro\",\n      mode: \"flat\",\n      style: styles.input,\n      value: props.name,\n      onChangeText: props.setName\n    }), _jsxs(View, {\n      style: styles.colorSelect,\n      children: [_jsxs(View, {\n        style: styles.colorSelect,\n        children: [_jsxs(Text, {\n          style: {\n            fontSize: 16,\n            color: props.textColor.toString(),\n            marginRight: 20\n          },\n          children: [\"Cor do livro:\", \" \"]\n        }), _jsx(SwatchesPicker, {\n          color: props.bookColor,\n          onChangeComplete: function onChangeComplete(color) {\n            return props.setBookColor(color.hex);\n          },\n          height: 80\n        })]\n      }), _jsxs(View, {\n        style: styles.colorSelect,\n        children: [_jsxs(Text, {\n          style: {\n            fontSize: 16,\n            color: props.textColor.toString(),\n            marginRight: 20,\n            marginLeft: 10\n          },\n          children: [\"Cor do texto:\", \" \"]\n        }), _jsx(SwatchesPicker, {\n          color: props.textColor,\n          onChangeComplete: function onChangeComplete(color) {\n            return props.setTextColor(color.hex);\n          },\n          height: 80\n        })]\n      })]\n    }), _jsx(Button, {\n      mode: \"contained\",\n      style: styles.button,\n      dark: true,\n      onPress: createNewBookHandler,\n      children: \"Enviar\"\n    })]\n  });\n}","map":{"version":3,"names":["Button","TextInput","useTheme","getBooksStyleSheet","BookAPI","SwatchesPicker","useNavigation","useRoute","jsx","_jsx","jsxs","_jsxs","NewBookView","props","window","useWindowDimensions","theme","styles","navigation","route","createNewBookHandler","_createNewBookHandler","apply","arguments","_asyncToGenerator","api","token","book","name","background","bookColor","toString","color","textColor","data","create","msg","_route$params$updated","getAll","then","setBooks","alert","setName","setBookColor","setTextColor","setVisible","setParams","_objectSpread","params","updated","error","View","style","backgroundColor","newBook","children","width","justifyContent","alignItems","mode","onPress","icon","label","input","value","onChangeText","colorSelect","Text","fontSize","marginRight","onChangeComplete","hex","height","marginLeft","button","dark"],"sources":["/home/ojoquinhaa/Documentos/trabalho/inktone/frontend/components/Book/NewBookView.tsx"],"sourcesContent":["import { View, Text, ScaledSize, useWindowDimensions } from \"react-native\";\nimport { Button, MD3Theme, TextInput, useTheme } from \"react-native-paper\";\nimport { getBooksStyleSheet } from \"../../styles\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport BookAPI, { Book } from \"../../API/Book\";\nimport { Color, SwatchesPicker } from \"react-color\";\nimport {\n  NavigationProp,\n  RouteProp,\n  useNavigation,\n  useRoute,\n} from \"@react-navigation/native\";\nimport DrawerList from \"../Drawer/DrawerList\";\n\ntype props = {\n  name: string;\n  setName: Dispatch<SetStateAction<string>>;\n  bookColor: Color;\n  setBookColor: Dispatch<SetStateAction<Color>>;\n  textColor: Color;\n  setTextColor: Dispatch<SetStateAction<Color>>;\n  token: string;\n  setBooks: Dispatch<SetStateAction<Book[]>>;\n  setVisible: Dispatch<SetStateAction<boolean>>;\n};\n\nexport default function NewBookView(props: props): JSX.Element | null {\n  const window: ScaledSize = useWindowDimensions();\n  const theme: MD3Theme = useTheme();\n  const styles = getBooksStyleSheet(window, theme);\n\n  const navigation = useNavigation<NavigationProp<DrawerList>>();\n  const route = useRoute<RouteProp<DrawerList>>();\n\n  async function createNewBookHandler() {\n    const api = new BookAPI(props.token);\n    const book: Book = {\n      name: props.name,\n      background: props.bookColor.toString(),\n      color: props.textColor.toString(),\n    };\n    const data = await api.create(book);\n    if (data.msg) {\n      api.getAll().then((data) => {\n        props.setBooks(data);\n      });\n      alert(\"Livro adicionado com sucesso!\");\n      props.setName(\"\");\n      props.setBookColor(\"#322f37\");\n      props.setTextColor(\"#FFFFFF\");\n      props.setVisible(false);\n      navigation.setParams({\n        ...route.params,\n        updated: (route.params.updated ?? 0) + 1,\n      });\n      return;\n    }\n\n    alert(data.error.msg);\n  }\n\n  return (\n    <View\n      style={{\n        backgroundColor: props.bookColor.toString(),\n        ...styles.newBook,\n      }}\n    >\n      <View\n        style={{\n          width: \"100%\",\n          justifyContent: \"center\",\n          alignItems: \"flex-end\",\n        }}\n      >\n        <Button\n          mode=\"text\"\n          onPress={() => props.setVisible(false)}\n          icon=\"close\"\n        >\n          Close\n        </Button>\n      </View>\n      <TextInput\n        label=\"Nome do livro\"\n        mode=\"flat\"\n        style={styles.input}\n        value={props.name}\n        onChangeText={props.setName}\n      />\n      <View style={styles.colorSelect}>\n        <View style={styles.colorSelect}>\n          <Text\n            style={{\n              fontSize: 16,\n              color: props.textColor.toString(),\n              marginRight: 20,\n            }}\n          >\n            Cor do livro:{\" \"}\n          </Text>\n          <SwatchesPicker\n            color={props.bookColor}\n            onChangeComplete={(color) => props.setBookColor(color.hex)}\n            height={80}\n          />\n        </View>\n        <View style={styles.colorSelect}>\n          <Text\n            style={{\n              fontSize: 16,\n              color: props.textColor.toString(),\n              marginRight: 20,\n              marginLeft: 10,\n            }}\n          >\n            Cor do texto:{\" \"}\n          </Text>\n          <SwatchesPicker\n            color={props.textColor}\n            onChangeComplete={(color) => props.setTextColor(color.hex)}\n            height={80}\n          />\n        </View>\n      </View>\n      <Button\n        mode=\"contained\"\n        style={styles.button}\n        dark={true}\n        onPress={createNewBookHandler}\n      >\n        Enviar\n      </Button>\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}